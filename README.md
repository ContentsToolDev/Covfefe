# Covfefe

[![Build Status](https://travis-ci.org/palle-k/Covfefe.svg?branch=master)](https://travis-ci.org/palle-k/Covfefe)
[![docs](https://cdn.rawgit.com/palle-k/Covfefe/66add420af3ce1801629d72ef0eedb9a30af584b/docs/badge.svg)](https://palle-k.github.io/Covfefe/)

Covfefe is a parser for languages generated by nondeterministic and deterministic context free grammars, which is written in Swift.

Compared to regular languages (which can be expressed with regular expressions), context free languages are more powerful
as it is possible to perform counting operations (such as finding matching brackets in mathematical expressions).

For a given set of productions the parser is able to
produce a syntax tree for a word contained in the language
or to pinpoint syntax errors, if the word is not contained in the language.

## Example

A grammar can be specified in Backus-Naur Form:

```swift
let grammarString = """
<expression>       ::= <binary-operation> | <brackets> | <unary-operation> | <number> | <variable>
<brackets>         ::= '(' <expression> ')'
<binary-operation> ::= <expression> <binary-operator> <expression>
<binary-operator>  ::= '+' | '-' | '*' | '/'
<unary-operation>  ::= <unary-operator> <expression>
<unary-operator>   ::= '+' | '-'
<number>           ::= <digit> | <digit> <number>
<digit>            ::= '0' | '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9'
<variable>         ::= <letter> | <letter> <variable>
<letter>           ::= "A" | "B" | "C" | "D" | "E" | "F" | "G" | "H" | "I" | "J" | "K" | "L" | "M" | "N" | "O" | "P" | "Q" | "R" | "S" | "T" | "U" | "V" | "W" | "X" | "Y" | "Z" | "a" | "b" | "c" | "d" | "e" | "f" | "g" | "h" | "i" | "j" | "k" | "l" | "m" | "n" | "o" | "p" | "q" | "r" | "s" | "t" | "u" | "v" | "w" | "x" | "y" | "z"
"""
let grammar = Grammar(bnfString: grammarString, start: "expression")
```

This grammar describes simple mathematical expressions consisting of unary and binary operations and parentheses.
A syntax tree can be generated, which describes the structure of a given word:

 ```swift
 let tokenizer = DefaultTokenizer(grammar: grammar)
 let parser = CYKParser(gramar: grammar)
 
 let syntaxTree = try parser.syntaxTree(for: tokenizer.tokenize("(a+b)*(-c)"))
 ```

![Example Syntax Tree](https://raw.githubusercontent.com/palle-k/Covfefe/master/example-syntax-tree.png)

## Usage

This framework can be imported as a Swift Package by adding it as a dependency to the `Package.swift` file:
```swift
.package(url: "https://github.com/palle-k/Covfefe.git", from: "0.1.0")
```

To add this package to a non-Swift Package Manager project:

1. `git clone https://github.com/palle-k/Covfefe.git`
2. `cd Covfefe`
3. `swift package generate-xcodeproj`
4. Drag the generated project file into your project
5. Add `Covfefe.framework` in the Embedded Binaries section of your project settings
